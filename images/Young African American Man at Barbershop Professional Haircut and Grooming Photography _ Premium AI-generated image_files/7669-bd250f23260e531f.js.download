!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="db16f0d8-b049-492a-b574-3e90784588d1",e._sentryDebugIdIdentifier="sentry-dbid-db16f0d8-b049-492a-b574-3e90784588d1")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7669],{46051:function(e,n,t){t.d(n,{W:function(){return b},D:function(){return f}});var r=t(97458),a=t(88711),l=t(52983),s=t(34777),o=t(55046),u=t(51837),i=t(9086);t(56367);let c={Prev:i.Z,Next:u.Z},d=(0,l.forwardRef)((e,n)=>{let{direction:t,...l}=e;return(0,r.jsx)(a.x,{as:"button",width:"45",height:"45",position:"absolute",top:"half",color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"sm",backgroundColor:{default:"transparent",hover:"white/20"},...l,left:"Prev"===t?"15":void 0,right:"Next"===t?"15":void 0,className:"_1rmnktx0",ref:n,"data-cy":"".concat("Prev"===t?"prev":"next","-video"),children:(0,r.jsx)(o.J,{as:c[t]})})}),b=e=>{let{urlDetailGenerator:n}=e,[t,l]=(0,s.iA)(),{previousResource:o,nextResource:u}=(0,s.CY)(n);return(f(o,u),o||u)?(0,r.jsxs)(a.x,{as:"nav",display:{default:"none",lg:"block"},children:[(0,r.jsx)(d,{direction:"Prev",onClick:o,disabled:!o||t}),(0,r.jsx)(d,{direction:"Next",onClick:u,disabled:!u||t})]}):null},f=(e,n)=>{let[t]=(0,s.iA)();(0,l.useEffect)(()=>{let r=r=>{!t&&("ArrowLeft"===r.key?e&&e():"ArrowRight"===r.key&&n&&n())};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,n,t])}},66033:function(e,n,t){t.d(n,{D:function(){return r.D},W:function(){return r.W}});var r=t(46051)},72957:function(e,n,t){t.d(n,{Fm:function(){return R},Uc:function(){return I}});var r=t(97458),a=t(60889),l=t(66827),s=t(83648),o=t(52983),u=t(61913),i=t(34777),c=t(90435),d=t(88711),b=t(55046),f=t(83598);let h=(0,o.forwardRef)((e,n)=>(0,r.jsx)(d.x,{as:"button",width:"".concat(45),height:"".concat(45),position:"absolute",right:{default:"0",lg:"15"},top:{default:"-45",lg:"20"},color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"sm",backgroundColor:{default:"transparent",hover:"white/20"},...e,ref:n,children:(0,r.jsx)(b.J,{as:f.Z})}));var _=t(7616),v=t(1850),g=t(79507),m=t(68320);let p=()=>{let e=(0,s.useRouter)(),n=(0,i.Zk)();(0,o.useEffect)(()=>{let t=(e,t)=>{let{shallow:r}=t;r||n()};return e.events.on("routeChangeComplete",t),()=>{e.events.off("routeChangeComplete",t)}},[n,e])},x=()=>{let e=(0,i.Mr)(),n=(0,s.useRouter)(),t=(0,i.aJ)(),r=(0,g.Q)(),a=(0,_.Dv)(m.lS);return p(),n.beforePopState(n=>{let{as:l,options:s}=n,{shallow:o}=s;if(a)return r(),!0;if(!o)return!0;if(t&&l.endsWith(t.as))return e(null),!0;let u=k.safeParse(l);return e(u.success?u.data:null),!1}),null},k=v.z.string().min(4).max(255).transform((e,n)=>{try{var t,r;let n=null===(r=e.split("#").shift())||void 0===r?void 0:null===(t=r.split("_").pop())||void 0===t?void 0:t.replace(".htm","");return v.z.coerce.number().parse(n).valueOf()}catch(e){return n.addIssue({code:v.z.ZodIssueCode.custom,message:"ID could not be extracted from code"}),v.z.NEVER}});var C=t(66033);t(14885),t(29173),t(20810);var j=t(22319),y=(0,j.c)({defaultClassName:"_btqskge _btqskg9 _1286nb12ji _1286nb129i _1286nb14kc _1286nb14l4 _1286nb14lo _1286nb14mg _1286nb14n0 _1286nb14ns _1286nb14oc _1286nb14p4 _1286nb12fi _1286nb12em _1286nb1236 _1286nb124w _1286nb11c0 _1286nb119y _1286nb13lo",variantClassNames:{isOnboardingEnabled:{true:"_1286nb1h _1286nb1k _1286nb18s",false:"_1286nb1g _1286nb1j"},backgroundMode:{light:"_1286nb18nd",dark:"_1286nb17dm"}},defaultVariants:{isOnboardingEnabled:!1,backgroundMode:"light"},compoundVariants:[]}),w="_1286nb120o _1286nb11m0 _1286nb12i6 _1286nb12ky _1286nb1286 _1286nb12ay _1286nb11b6 _1286nb13fi _1286nb147c _1286nb147t _1286nb1ac _1286nb13lo",N=(0,j.c)({defaultClassName:"_btqskg4 _btqskg1 _1286nb1au _1286nb1j6 _1286nb1ri _1286nb1zu _1286nb12u6 _1286nb12uu _1286nb15 _1286nb1ai _1286nb118i _1286nb17dm",variantClassNames:{overlay:{base:"_1286nb17mm _1286nb196 _1286nb19y",black:"_1286nb17dm _1286nb196 _1286nb19m"}},defaultVariants:{overlay:"base"},compoundVariants:[]});let D=e=>{let{children:n,open:t,onOpenChange:a}=e,{disableOnboarding:s}=(0,u.Yj)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{}),(0,r.jsx)(l.fC,{open:t,onOpenChange:a,modal:!0,children:(0,r.jsx)(l.aV,{className:N({overlay:"base"}),onClick:s,children:(0,r.jsx)(l.VY,{className:w,onInteractOutside:e=>e.preventDefault(),children:(0,r.jsx)("div",{className:y({isOnboardingEnabled:!0}),children:n})})})})]})},R=e=>{let{urlDetailGenerator:n,children:t,dialogContent:s=w,backgroundMode:i="light",showCloseButton:c=!0,showNavigation:d=!0,outSideClick:b=!0}=e,f=O(),_=I(),v=E();(0,a.$6)(f);let{isEditToolsOnboardingEnabled:g}=(0,u.Yj)(),m=(0,o.useCallback)(e=>{let n=e.target;n&&"dialog"===n.getAttribute("role")&&_()},[_]),p=e=>{e.preventDefault()};return g?(0,r.jsx)(D,{open:f,onOpenChange:_,children:t}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{}),(0,r.jsx)(l.fC,{open:f,onOpenChange:_,modal:!0,children:(0,r.jsx)(l.aV,{className:N({overlay:"light"===i?"base":"black"}),onClick:m,children:(0,r.jsxs)(l.VY,{className:s,...!b&&{onPointerDownOutside:p,onInteractOutside:p},children:[c&&(0,r.jsx)(l.x8,{asChild:!0,children:(0,r.jsx)(h,{})}),d&&(0,r.jsx)(C.W,{urlDetailGenerator:n}),(0,r.jsx)("div",{className:y({backgroundMode:i}),ref:v,children:t})]})})})]})},I=()=>{let e=(0,i.Zk)(),{push:n}=(0,s.useRouter)(),t=(0,i.aJ)();return(0,o.useCallback)(()=>{if(null===t){e();return}n({pathname:t.pathname,query:t.query},t.as,{shallow:!0,scroll:!1}).then(()=>{e(),(0,c.lS)(()=>(0,c.c1)("ssmNavigate"),500)})},[e,t,n])},O=()=>null!==(0,i.bA)(),E=()=>{let e=(0,o.useRef)(null),n=(0,i.bA)();return(0,o.useEffect)(()=>{n&&e.current&&(e.current.scrollTop=0)},[n]),e}},61913:function(e,n,t){t.d(n,{Yj:function(){return r.Y},sC:function(){return s},Q2:function(){return i},Ps:function(){return h}});var r=t(22073),a=t(52983),l=t(21567);let s=()=>{let{setEditedImageDimensions:e}=(0,l.TV)();return(0,a.useCallback)(n=>{n&&e({width:n.naturalWidth,height:n.naturalHeight})},[e])};var o=t(87732),u=t(78819);let i=()=>[(0,o.Ux)(),(0,u.Q)()].some(e=>e);var c=t(45123),d=t(21595),b=t(41843),f=t(7616);let h=(e,n)=>{let t=(0,f.Dv)(b.wy),r=(0,c._)(),a=(0,f.Dv)(d.UH);return((r?a:t)||n)&&!e}},79507:function(e,n,t){t.d(n,{Q:function(){return o}});var r=t(7616),a=t(83648),l=t(52983),s=t(68320);let o=()=>{let e=(0,r.b9)(s.lS),n=(0,r.b9)(s.SD),t=(0,r.b9)(s.he),o=(0,a.useRouter)();return(0,l.useCallback)(function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(!1),n(!1),t(null),r&&o.back()},[o,t,n,e])}},22073:function(e,n,t){t.d(n,{Y:function(){return u}});var r=t(7616),a=t(52983),l=t(85618),s=t(68320);let o=["expand","retouch","reimagine"],u=()=>{let[e,n]=(0,r.KO)(s.P1),[t,u]=(0,r.KO)(s.sz),i=(0,a.useCallback)(()=>{"true"!==localStorage.getItem(l.RJ)&&u(!0)},[u]),c=(0,a.useCallback)(()=>{localStorage.setItem(l.RJ,"true"),u(!1)},[u]),d=(0,a.useCallback)(()=>{if(e===o.length-1){c();return}n(e=>e+1)},[c,e,n]),b=(0,a.useCallback)(()=>{if(0===e){c();return}n(e=>e-1)},[c,e,n]);return(0,a.useMemo)(()=>({isEditToolsOnboardingEnabled:t,enableOnboarding:i,disableOnboarding:c,currentOnboardingTool:o[e],handleGoToNextOnboardingStep:d,handleGoToPreviousOnboardingStep:b,onboardingStep:e,totalSteps:o.length}),[c,i,d,b,t,e])}},78819:function(e,n,t){t.d(n,{Q:function(){return l}});var r=t(52983),a=t(58025);let l=e=>{let{type:n}=(0,a.ph)(),t=null!=e?e:n;return(0,r.useMemo)(()=>["photo","vector"].includes(t),[t])}},68320:function(e,n,t){t.d(n,{P1:function(){return u},SD:function(){return s},he:function(){return l},lS:function(){return a},sz:function(){return o}});var r=t(24399);let a=(0,r.cn)(!1),l=(0,r.cn)(null),s=(0,r.cn)(!1),o=(0,r.cn)(!1),u=(0,r.cn)(0)},44842:function(e,n,t){var r=t(97458);n.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"m405.678 227.322-69-69A25 25 0 0 0 319 151H166c-35.841 0-65 29.159-65 65v35H66c-35.841 0-65 29.159-65 65v262c0 35.841 29.159 65 65 65h182c35.841 0 65-29.159 65-65v-35h35c35.841 0 65-29.159 65-65V245a25 25 0 0 0-7.322-17.678M263 578c0 8.271-6.729 15-15 15H66c-8.271 0-15-6.729-15-15V316c0-8.271 6.729-15 15-15h35v177c0 35.841 29.159 65 65 65h97zm85-85H166c-8.271 0-15-6.729-15-15V216c0-8.271 6.729-15 15-15h128v44c0 13.808 11.192 25 25 25h44v208c0 8.271-6.729 15-15 15"})})}}]);